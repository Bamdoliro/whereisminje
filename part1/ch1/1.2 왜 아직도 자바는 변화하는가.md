
Java는 처음부터 많은 유용한 라이브러리를 포함하는 잘 설계된 객체 지향 언어로 시작했다.
하지만 프로그래밍 언어 생태계는 빠르게 바뀌기 때문에 이에 적응하며 점점 대중화된다.

이렇게 대중화된 Java 8 설계의 밑바탕을 이루는 세 가지 프로그래밍 개념을 소개한다.


### 스트림 처리 `stream processing`

스트림이란 **한 번에 한 개씩 만들어지는 연속적인 데이터 항목들의 모임**이다.
이론적으로 프로그램을 입력 스트림에서 데이터를 한 개씩 읽어 들이며 마찬가지로 출력 스트림으로 데이터를 한 개씩 기록한다.
즉, **어떤 프로그램의 출력 스트림은 다른 프로그램의 입력 스트림이 될 수 있다.**

### Java 8의 스트림

Java 8에는 `java.util.stream` 패키지에 스트림 API가 추가되었다.
스트림 패키지에 정의된 `Stream<T>`는 T 형식으로 구성된 일련의 항목을 의미한다.

### 스트림 API의 핵심

- 기존에는 한 번에 한 항목을 처리했지만 이제 하려는 작업을 고수준으로 추상화해서 일련의 스트림으로 만들어 처리할 수 있다.
- 스트림 파이프라인을 이용해서 입력 부분을 여러 CPU 코어에 쉽게 할당할 수 있다.
	> 스레드라는 복잡한 작업을 사용하지 않으면서도 공짜로 병렬성을 얻을 수 있다.


## 동적 파라미터화 `behavior parameterization`

코드 일부를 API로 전달하는 기능이다.
즉, 메서드를 다른 메서드의 파라미터로 전달하는 것이다.

스트림 API는 연산의 동작을 파라미터화할 수 있는 코드를 전달한다는 사상에 기초하기 때문에 이는 중요하다.


## 병렬성과 공유 가변 데이터

아까 공짜로 병렬성을 얻는다고 말했다. 그러나 세상에 공짜는 없다.
그럼 병렬성 대신 무엇을 포기해야 할까?
스트림 메서드로 전달하는 코드의 동작 방식을 조금 바꿔야 한다.

### 동시에 실행하더라도 안전하게 실행하기

**공유된 가변 데이터에 접근하지 않아**야 함.

- 순수함수 `pure`
- 부작용 없는 함수 `side-effect-free`
- 상태 없는 함수 `stateless`

